2021-02-25T21:44:28-0300 [-] Creating router ...
2021-02-25T21:44:28-0300 [-] Initializing Router - Number of events: 1
2021-02-25T21:44:28-0300 [-] Initializing Server - Number of events: 2
2021-02-25T21:44:28-0300 [-] Initializing Client - Number of events: 3
2021-02-25T21:44:28-0300 [-] Initializing sink node - Number of events: 4
2021-02-25T21:44:28-0300 [-] Initializing sensor node - Number of events: 5
2021-02-25T21:44:29-0300 [-] Initializing sensor node - Number of events: 6
2021-02-25T21:44:29-0300 [-] Initializing repeater node - Number of events: 7
2021-02-25T21:44:30-0300 [-] Initializing repeater node - Number of events: 8
2021-02-25T21:44:36-0300 [-] RouterFactory starting on 8081
2021-02-25T21:44:36-0300 [-] BrokerFactory starting on 5100
2021-02-25T21:44:36-0300 [stdout#info] ========= sensor_1 ==========
2021-02-25T21:44:36-0300 [stdout#info] sensor_1  <------->  sensor_2
2021-02-25T21:44:36-0300 [stdout#info] sensor_1  <------->  wsn_sink
2021-02-25T21:44:36-0300 [stdout#info] =============================
2021-02-25T21:44:36-0300 [-] wsn node send data - Number of events: 9
2021-02-25T21:44:36-0300 [-] wsn node send data - Number of events: 10
2021-02-25T21:44:36-0300 [stdout#info] ========= sensor_2 ==========
2021-02-25T21:44:36-0300 [stdout#info] sensor_2  <------->  sensor_1
2021-02-25T21:44:36-0300 [stdout#info] sensor_2  <------->  wsn_sink
2021-02-25T21:44:36-0300 [stdout#info] sensor_2  <------->  wsn_repeater_1
2021-02-25T21:44:36-0300 [stdout#info] =============================
2021-02-25T21:44:36-0300 [-] wsn node send data - Number of events: 11
2021-02-25T21:44:36-0300 [-] wsn node send data - Number of events: 12
2021-02-25T21:44:36-0300 [-] wsn node send data - Number of events: 13
2021-02-25T21:44:36-0300 [-] wsn node send data - Number of events: 14
2021-02-25T21:44:36-0300 [stdout#info] ========= wsn_repeater_2 ==========
2021-02-25T21:44:36-0300 [stdout#info] =============================
2021-02-25T21:44:36-0300 [stdout#info] This divice have no simulation core instance
2021-02-25T21:44:36-0300 [stdout#info] This divice have no simulation core instance
2021-02-25T21:44:36-0300 [stdout#info] This divice have no simulation core instance
2021-02-25T21:44:36-0300 [Uninitialized] 
	
	      SCADA
	127.0.0.1:53696 - Connected to mqtt broker - Number of events: 15
2021-02-25T21:44:36-0300 [Uninitialized] 
	
	      SCADA
	127.0.0.1:53696 - sending MQTT SUBSCRIBE REQUEST - Number of events: 16
2021-02-25T21:44:36-0300 [Uninitialized] Unhandled Error
	Traceback (most recent call last):
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/python/log.py", line 103, in callWithLogger
	    return callWithContext({"system": lp}, func, *args, **kw)
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/python/log.py", line 86, in callWithContext
	    return context.call({ILogContext: newCtx}, func, *args, **kw)
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/python/context.py", line 122, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/python/context.py", line 85, in callWithContext
	    return func(*args,**kw)
	--- <exception caught here> ---
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/posixbase.py", line 619, in _doReadOrWrite
	    why = selectable.doWrite()
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/tcp.py", line 627, in doConnect
	    self._connectDone()
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/tcp.py", line 656, in _connectDone
	    self.protocol.makeConnection(self)
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/protocol.py", line 514, in makeConnection
	    self.connectionMade()
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/endpoints.py", line 124, in connectionMade
	    self._wrappedProtocol.makeConnection(self.transport)
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/protocol.py", line 514, in makeConnection
	    self.connectionMade()
	  File "/home/rafael/iotfogsim/scinetsim/applications/smartgrid.py", line 175, in connectionMade
	    LoopingCall(self.save_to_database).start(32.0)
	builtins.NameError: name 'LoopingCall' is not defined
	
2021-02-25T21:44:36-0300 [Uninitialized] connection lost: name 'LoopingCall' is not defined
2021-02-25T21:44:36-0300 [Uninitialized] connection lost - Number of events: 17
2021-02-25T21:44:36-0300 [stdout#info] ========= wsn_repeater_1 ==========
2021-02-25T21:44:36-0300 [stdout#info] wsn_repeater_1  <------->  sensor_2
2021-02-25T21:44:36-0300 [stdout#info] =============================
2021-02-25T21:44:37-0300 [twisted.internet.endpoints.OneShotFactory#info] Starting factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7fe293321cf8>
2021-02-25T21:45:06-0300 [-] wsn node send data - Number of events: 18
2021-02-25T21:45:06-0300 [-] wsn node send data - Number of events: 19
2021-02-25T21:45:06-0300 [-] wsn node send data - Number of events: 20
2021-02-25T21:45:06-0300 [-] wsn node send data - Number of events: 21
2021-02-25T21:45:06-0300 [-] wsn node send data - Number of events: 22
2021-02-25T21:45:06-0300 [-] wsn node send data - Number of events: 23
2021-02-25T21:45:07-0300 [twisted.internet.endpoints.OneShotFactory#info] Starting factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7fe29333fe48>
2021-02-25T21:45:07-0300 [twisted.internet.endpoints.OneShotFactory#info] Stopping factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7fe293321cf8>
2021-02-25T21:45:36-0300 [-] wsn node send data - Number of events: 24
2021-02-25T21:45:36-0300 [-] wsn node send data - Number of events: 25
2021-02-25T21:45:36-0300 [-] wsn node send data - Number of events: 26
2021-02-25T21:45:36-0300 [-] wsn node send data - Number of events: 27
2021-02-25T21:45:36-0300 [-] wsn node send data - Number of events: 28
2021-02-25T21:45:36-0300 [-] wsn node send data - Number of events: 29
2021-02-25T21:45:37-0300 [twisted.internet.endpoints.OneShotFactory#info] Starting factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7fe2933215f8>
2021-02-25T21:45:37-0300 [twisted.internet.endpoints.OneShotFactory#info] Stopping factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7fe29333fe48>
2021-02-25T21:45:37-0300 [-] Received SIGINT, shutting down.
2021-02-25T21:45:37-0300 [twisted.internet.endpoints.OneShotFactory#info] Stopping factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7fe2933215f8>
2021-02-25T21:45:37-0300 [applications.smartgrid.BrokerFactory] (TCP Port 5100 Closed)
2021-02-25T21:45:37-0300 [applications.routerapp.RouterFactory] (TCP Port 8081 Closed)
2021-02-25T21:45:37-0300 [-] Main loop terminated.
