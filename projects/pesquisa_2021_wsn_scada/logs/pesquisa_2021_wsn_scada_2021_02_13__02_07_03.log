2021-02-13T02:07:03-0300 [-] Creating router ...
2021-02-13T02:07:03-0300 [-] Initializing Router - Number of events: 1
2021-02-13T02:07:03-0300 [-] Initializing Server - Number of events: 2
2021-02-13T02:07:03-0300 [-] Initializing Client - Number of events: 3
2021-02-13T02:07:03-0300 [-] Initializing sink node - Number of events: 4
2021-02-13T02:07:04-0300 [-] Initializing sensor node - Number of events: 5
2021-02-13T02:07:04-0300 [-] Initializing sensor node - Number of events: 6
2021-02-13T02:07:05-0300 [-] Initializing repeater node - Number of events: 7
2021-02-13T02:07:05-0300 [-] Initializing repeater node - Number of events: 8
2021-02-13T02:07:11-0300 [-] RouterFactory starting on 8081
2021-02-13T02:07:11-0300 [-] BrokerFactory starting on 5100
2021-02-13T02:07:11-0300 [stdout#info] ========= sensor_2 ==========
2021-02-13T02:07:11-0300 [stdout#info] sensor_2  <------->  wsn_sink
2021-02-13T02:07:11-0300 [stdout#info] sensor_2  <------->  sensor_1
2021-02-13T02:07:11-0300 [stdout#info] sensor_2  <------->  wsn_repeater_1
2021-02-13T02:07:11-0300 [stdout#info] =============================
2021-02-13T02:07:11-0300 [-] wsn node send data - Number of events: 9
2021-02-13T02:07:11-0300 [-] wsn node send data - Number of events: 10
2021-02-13T02:07:11-0300 [-] wsn node send data - Number of events: 11
2021-02-13T02:07:11-0300 [stdout#info] ========= sensor_1 ==========
2021-02-13T02:07:11-0300 [stdout#info] sensor_1  <------->  sensor_2
2021-02-13T02:07:11-0300 [stdout#info] sensor_1  <------->  wsn_sink
2021-02-13T02:07:11-0300 [stdout#info] =============================
2021-02-13T02:07:11-0300 [-] wsn node send data - Number of events: 12
2021-02-13T02:07:11-0300 [-] wsn node send data - Number of events: 13
2021-02-13T02:07:11-0300 [stdout#info] ========= wsn_repeater_2 ==========
2021-02-13T02:07:11-0300 [stdout#info] =============================
2021-02-13T02:07:11-0300 [stdout#info] This divice have no simulation core instance
2021-02-13T02:07:11-0300 [stdout#info] This divice have no simulation core instance
2021-02-13T02:07:11-0300 [stdout#info] This divice have no simulation core instance
2021-02-13T02:07:11-0300 [Uninitialized] 
	
	      SCADA
	127.0.0.1:55614 - Connected to mqtt broker - Number of events: 14
2021-02-13T02:07:11-0300 [Uninitialized] 
	
	      SCADA
	127.0.0.1:55614 - sending MQTT SUBSCRIBE REQUEST - Number of events: 15
2021-02-13T02:07:11-0300 [twisted.internet.endpoints.OneShotFactory#info] Starting factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7f6ad33bdeb8>
2021-02-13T02:07:11-0300 [stdout#info] ========= wsn_repeater_1 ==========
2021-02-13T02:07:11-0300 [stdout#info] wsn_repeater_1  <------->  sensor_2
2021-02-13T02:07:11-0300 [stdout#info] =============================
2021-02-13T02:07:12-0300 [twisted.internet.defer#critical] Unhandled error in Deferred:
2021-02-13T02:07:12-0300 [twisted.internet.defer#critical] 
	Traceback (most recent call last):
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/base.py", line 913, in runUntilCurrent
	    call.func(*call.args, **call.kw)
	  File "/home/rafael/iotfogsim/scinetsim/applications/wsnapp.py", line 277, in configure_source_info
	    LoopingCall(self.forward_packages).start(30.0) #forwarding packages every 'x' secondes - Rafael Sampaio
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/task.py", line 194, in start
	    self()
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/task.py", line 239, in __call__
	    d = defer.maybeDeferred(self.f, *self.a, **self.kw)
	--- <exception caught here> ---
	  File "/home/rafael/iotfogsim/vm/lib/python3.6/site-packages/twisted/internet/defer.py", line 151, in maybeDeferred
	    result = f(*args, **kw)
	  File "/home/rafael/iotfogsim/scinetsim/applications/wsnapp.py", line 292, in forward_packages
	    data += '{ "id": "' + str(wsn_package.id) + '", "source": "' + wsn_package.source.name + '", "data": "' + wsn_package.data + '", "created_at": "' + wsn_package.created_at + '" },'
	builtins.TypeError: must be str, not dict
	
2021-02-13T02:07:41-0300 [-] wsn node send data - Number of events: 16
2021-02-13T02:07:41-0300 [-] wsn node send data - Number of events: 17
2021-02-13T02:07:41-0300 [-] wsn node send data - Number of events: 18
2021-02-13T02:07:41-0300 [-] wsn node send data - Number of events: 19
2021-02-13T02:07:41-0300 [-] wsn node send data - Number of events: 20
2021-02-13T02:07:41-0300 [-] wsn node send data - Number of events: 21
2021-02-13T02:07:43-0300 [-] SCADA - Saving to the database. - Number of events: 22
2021-02-13T02:08:11-0300 [-] wsn node send data - Number of events: 23
2021-02-13T02:08:11-0300 [-] wsn node send data - Number of events: 24
2021-02-13T02:08:11-0300 [-] wsn node send data - Number of events: 25
2021-02-13T02:08:11-0300 [-] wsn node send data - Number of events: 26
2021-02-13T02:08:11-0300 [-] wsn node send data - Number of events: 27
2021-02-13T02:08:11-0300 [-] wsn node send data - Number of events: 28
2021-02-13T02:08:41-0300 [-] wsn node send data - Number of events: 29
2021-02-13T02:08:41-0300 [-] wsn node send data - Number of events: 30
2021-02-13T02:08:41-0300 [-] wsn node send data - Number of events: 31
2021-02-13T02:08:41-0300 [-] wsn node send data - Number of events: 32
2021-02-13T02:08:41-0300 [-] wsn node send data - Number of events: 33
2021-02-13T02:08:41-0300 [-] wsn node send data - Number of events: 34
2021-02-13T02:09:11-0300 [-] wsn node send data - Number of events: 35
2021-02-13T02:09:11-0300 [-] wsn node send data - Number of events: 36
2021-02-13T02:09:11-0300 [-] wsn node send data - Number of events: 37
2021-02-13T02:09:11-0300 [-] wsn node send data - Number of events: 38
2021-02-13T02:09:11-0300 [-] wsn node send data - Number of events: 39
2021-02-13T02:09:11-0300 [-] wsn node send data - Number of events: 40
2021-02-13T02:09:31-0300 [-] Received SIGINT, shutting down.
2021-02-13T02:09:31-0300 [SCADAApp,client] connection lost: Connection to the other side was lost in a non-clean fashion: Connection lost.
2021-02-13T02:09:31-0300 [SCADAApp,client] connection lost - Number of events: 41
2021-02-13T02:09:31-0300 [applications.pesquisaapp.BrokerFactory] (TCP Port 5100 Closed)
2021-02-13T02:09:31-0300 [twisted.internet.endpoints.OneShotFactory#info] Stopping factory <twisted.internet.endpoints.connectProtocol.<locals>.OneShotFactory object at 0x7f6ad33bdeb8>
2021-02-13T02:09:31-0300 [applications.routerapp.RouterFactory] (TCP Port 8081 Closed)
2021-02-13T02:09:31-0300 [-] Main loop terminated.
